<!DOCTYPE html>
<html>

  <head>
    <link href="https://fonts.googleapis.com/css?family=Inter&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">
    <link href="./mainv2.css" rel="stylesheet" />
    <title>Get your group</title>
  </head>

  <body>
    <div id='find' class="v1920_300" style='diplay:block'>
      <div class='v1517_131'></div>
      <span class="v1920_308">Find your teammates!</span>
      
      <span class="v1920_399">
      </span>
      
      <div class='v1920'>
      <hr NOSHADE="noshade">
      </div>
            
      
      <input id='nickname' class="v1920_302" type='text' placeholder='Enter your nickname!'>
      <div class="v1920_309">
        <button class="v1920_310" onclick=displayMyGroup()>Find my Team
        </button>
      </div>
    </div>


    <div id='video' class="v1920_304" style='display:none'>
      <img class='gif' src="https://drive.google.com/uc?export=view&id=1hF6lb5-xYleTDt-6A4ZJDrYH-92ebvi2" alt="this slowpoke moves" />

    </div>

    <div id='group' class="v1920_304" style='display:none'>
    
      <div class='yourteam'>
        <span class='team'>Your team</span>
	      <div  id='errormsg' style='display:none'><br> <br>Hum, it seems like your group has not been sorted yet or there is a typo in your nickname, double check. We will sort new groups in a couple minutes, check it out in a few! </div>
        
      </div>
      <div class="person1">
        <div class="id1">
          <div class="photo1"></div>
        </div>
        <div class="name1" id="n1"></div>
        <div class="firststars" id='s11'></div>
        <div class="secondtitle" id='t12'></div>
        <div class="secondstars" id='s12'></div>
        <div class="firsttitle" id='t11'></div>
        <div class='agetxt' id='a1'></div>
      </div>


      <div class="person2">
        <div class="id1">
          <div class="photo2"></div>
        </div>
        <div class="name1" id='n2'></div>
        <div class="firststars" id='s21'></div>
        <div class="secondtitle" id='t22'></div>
        <div class="secondstars" id='s22'></div>
        <div class="firsttitle" id='t21'></div>
        <div class='agetxt' id='a2'></div>
      </div>

      <div class="person3">
        <div class="id1">
          <div class="photo3"></div>
        </div>
        <div class="name1" id='n3'></div>
        <div class="firststars" id='s31'></div>
        <div class="secondtitle" id='t32'></div>
        <div class="secondstars" id='s32'></div>
        <div class="firsttitle" id='t31'></div>
        <div class='agetxt' id='a3'></div>
      </div>


      <div class="person4">
        <div class="id1">
          <div class="photo4"></div>
        </div>
        <div class="name1" id='n4'></div>
        <div class="firststars" id='s41'></div>
        <div class="secondtitle" id='t42'></div>
        <div class="secondstars" id='s42'></div>
        <div class="firsttitle" id='t41'></div>
        <div class='agetxt' id='a4'></div>
      </div>
      
      
      <div class='startplayholder'>
        
        <button class="play" onclick="window.location.href='https://hannahmaria7.github.io/probable-octo-tribble/play.html'">Play
        
      </div>
      
      </div>


    </div>
  </body>

</html>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script>
	var url = "https://spreadsheets.google.com/feeds/list/1L2m98ZGL22EuYONxV-ts3qLYrWEP3-KiSP3lbxnbOAI/4/public/values?alt\u003djson";
var line = [];


$.getJSON(url, function(data) {
    var output = "";
    var i = 0;
    $.each(data.feed.entry, function(index,value) {
    	line[i]=[value.gsx$groupn.$t, value.gsx$nicknames.$t, value.gsx$hobbychosen.$t, value.gsx$hobbyranked.$t, value.gsx$ability.$t, value.gsx$abilitylevel.$t, value.gsx$age.$t];
      i+=1;
    });
});

function displayMyGroup(){
	var  me = document.getElementById("nickname").value;
  document.getElementById('find').style ='display:none';
  document.getElementById('video').style ='display:block';
  setTimeout(function(){
         document.getElementById("video").style="display:none";
         document.getElementById('group').style ='display:block';
  },3500);
  
  groupnumber=getGp(me);
  pers1 = line[(groupnumber-1)*4];
  pers2 = line[(groupnumber-1)*4+1];
  pers3 = line[(groupnumber-1)*4+2];
  pers4 = line[(groupnumber-1)*4+3];
  document.getElementById('n1').innerHTML = pers1[1];
  document.getElementById('n2').innerHTML = pers2[1];
  document.getElementById('n3').innerHTML = pers3[1];
  document.getElementById('n4').innerHTML = pers4[1];
  document.getElementById('t11').innerHTML = pers1[2];
  document.getElementById('t21').innerHTML = pers2[2];
  document.getElementById('t31').innerHTML = pers3[2];
  document.getElementById('t41').innerHTML = pers4[2];
  document.getElementById('t12').innerHTML = pers1[4];
  document.getElementById('t22').innerHTML = pers2[4];
  document.getElementById('t32').innerHTML = pers3[4];
  document.getElementById('t42').innerHTML = pers4[4];
  document.getElementById('s11').innerHTML = pers1[3];
  document.getElementById('s21').innerHTML = pers2[3];
  document.getElementById('s31').innerHTML = pers3[3];
  document.getElementById('s41').innerHTML = pers4[3];
  document.getElementById('s12').innerHTML = pers1[5];
  document.getElementById('s22').innerHTML = pers2[5];
  document.getElementById('s32').innerHTML = pers3[5];
  document.getElementById('s42').innerHTML = pers4[5];
  document.getElementById('a1').innerHTML = pers1[6] + ' years old';
  document.getElementById('a2').innerHTML = pers2[6] + ' years old';
  document.getElementById('a3').innerHTML = pers3[6] + ' years old';
  document.getElementById('a4').innerHTML = pers4[6] + ' years old';
}

function getGp(me){
	for(i = 0; i<line.length; i++){
  	if (line[i][1] == me) {
    	return line[i][0]
    } 
		
  }
	document.getElementById('errormsg').style='display:block';
}



</script>
